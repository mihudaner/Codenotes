# Object_mit数据说明

ang开头应该都是超分辨的数据

rflip是加了球半径滤波

virtul是加了MVP

three_types是加了边缘溢出分类和虚拟点云区分点云

# KITTI

之前KITTI的实验好像都是pcdet+0.5.2

## 综合指标对比

### kitti原始16

```

Car AP_R40@0.70, 0.70, 0.70:
3d   AP:77.8157, 60.3544, 56.1630   

Pedestrian AP_R40@0.50, 0.50, 0.50:
3d   AP:39.5884, 34.3200, 30.7191 

Cyclist AP_R40@0.50, 0.50, 0.50:
3d   AP:54.2331, 35.6607, 32.8664 
```

### kitti原始32

```
 Car AP_R40@0.70, 0.70, 0.70:
3d   AP:84.1134, 69.9920, 66.6408 

Pedestrian AP_R40@0.50, 0.50, 0.50:
3d   AP:46.6211, 40.3363, 35.8638

Cyclist AP_R40@0.50, 0.50, 0.50:
3d   AP:70.6937, 51.1830, 47.5463 
```



### 三类点云和添加Faker

```

Car AP_R40@0.70, 0.70, 0.70:
3d   AP:81.2520, 65.6532, 60.8203  

Pedestrian AP_R40@0.50, 0.50, 0.50:
3d   AP:52.7444, 44.5958, 39.7387  

Cyclist AP_R40@0.50, 0.50, 0.50:
3d   AP:62.9091, 42.0558, 38.7334 
```

## 超分辨32结果和原始32线视觉效果

### 原始16线

![image-20231229152653571](/home/wangkai/codenotes_ubuntu/方向/img/image-20231229152653571.png)

### 原始32线

![image-20231229152731087](/home/wangkai/codenotes_ubuntu/方向/img/image-20231229152731087.png)

### 超32线

![image-20231229152725203](/home/wangkai/codenotes_ubuntu/方向/img/image-20231229152725203.png)

## 附录详细输出结果

### kitti原始16

```
Car AP@0.70, 0.70, 0.70:
bbox AP:89.7860, 78.1916, 75.3280
bev  AP:88.8109, 77.1720, 72.5140
3d   AP:76.4228, 60.4817, 57.2593
aos  AP:89.14, 76.86, 73.62
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:92.5429, 79.1238, 76.1377
bev  AP:90.6017, 77.9045, 74.0014
3d   AP:77.8157, 60.3544, 56.1630     ************
aos  AP:91.85, 77.69, 74.32
Car AP@0.70, 0.50, 0.50:
bbox AP:89.7860, 78.1916, 75.3280
bev  AP:90.4057, 85.5350, 82.4617
3d   AP:90.3146, 82.3021, 79.2095
aos  AP:89.14, 76.86, 73.62
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:92.5429, 79.1238, 76.1377
bev  AP:94.6279, 87.1291, 84.4293
3d   AP:94.4628, 84.8444, 81.9479
aos  AP:91.85, 77.69, 74.32
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:56.4000, 51.0259, 47.7765
bev  AP:51.5145, 45.7446, 41.7889
3d   AP:41.7408, 37.4778, 34.1247
aos  AP:32.73, 29.59, 27.79
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:55.4268, 49.5492, 46.2776
bev  AP:50.2293, 43.5608, 39.3852
3d   AP:39.5884, 34.3200, 30.7191 ************
aos  AP:32.27, 28.83, 26.91
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:56.4000, 51.0259, 47.7765
bev  AP:62.5601, 57.6745, 54.7044
3d   AP:62.5097, 57.3391, 54.4997
aos  AP:32.73, 29.59, 27.79
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:55.4268, 49.5492, 46.2776
bev  AP:62.3600, 57.1327, 53.7009
3d   AP:62.3081, 56.7274, 53.4189
aos  AP:32.27, 28.83, 26.91
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:62.2239, 46.0399, 42.9187
bev  AP:58.3314, 42.1378, 39.7718
3d   AP:54.7629, 38.5709, 35.2036
aos  AP:58.95, 41.75, 38.97
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:62.0038, 44.2289, 40.9524
bev  AP:58.3023, 40.4404, 37.2508
3d   AP:54.2331, 35.6607, 32.8664 ************
aos  AP:58.69, 39.42, 36.52
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:62.2239, 46.0399, 42.9187
bev  AP:62.1927, 46.3467, 43.3485
3d   AP:62.1909, 46.3294, 43.3283
aos  AP:58.95, 41.75, 38.97
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:62.0038, 44.2289, 40.9524
bev  AP:61.9022, 44.8511, 41.2842
3d   AP:61.8997, 44.7851, 41.2494
aos  AP:58.69, 39.42, 36.52


```

### kitti原始32

```
  warn(NumbaPerformanceWarning(msg))
2023-12-29 14:26:25,596   INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.5615, 85.5939, 83.1282
bev  AP:89.7673, 82.2739, 78.9670
3d   AP:81.8761, 68.2466, 66.5795
aos  AP:90.36, 84.81, 82.11
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.2184, 87.5757, 85.0571
bev  AP:92.2048, 84.8515, 82.0334
3d   AP:84.1134, 69.9920, 66.6408    ************
aos  AP:94.98, 86.72, 83.95
Car AP@0.70, 0.50, 0.50:
bbox AP:90.5615, 85.5939, 83.1282
bev  AP:90.6631, 89.1545, 88.1592
3d   AP:90.6598, 88.8759, 87.5608
aos  AP:90.36, 84.81, 82.11
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.2184, 87.5757, 85.0571
bev  AP:95.4857, 92.5625, 90.5280
3d   AP:95.4447, 91.0543, 88.4607
aos  AP:94.98, 86.72, 83.95
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:60.3755, 55.6453, 52.6635
bev  AP:55.5366, 49.6441, 45.5428
3d   AP:48.3161, 42.8533, 38.4960
aos  AP:42.29, 39.27, 37.15
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:59.6682, 55.2628, 51.7502
bev  AP:54.7867, 47.9203, 43.6505
3d   AP:46.6211, 40.3363, 35.8638    ************
aos  AP:39.05, 36.04, 33.30
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:60.3755, 55.6453, 52.6635
bev  AP:67.2656, 63.8193, 60.2769
3d   AP:67.2257, 63.2354, 60.1474
aos  AP:42.29, 39.27, 37.15
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:59.6682, 55.2628, 51.7502
bev  AP:68.3687, 63.8166, 59.9923
3d   AP:68.3292, 63.4648, 59.6476
aos  AP:39.05, 36.04, 33.30
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:77.1073, 61.1952, 58.3693
bev  AP:74.3868, 56.5221, 52.5496
3d   AP:69.4034, 52.0021, 49.0856
aos  AP:74.18, 57.63, 54.75
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:78.5627, 61.6062, 58.1465
bev  AP:75.6095, 55.9115, 51.8616
3d   AP:70.6937, 51.1830, 47.5463    ************
aos  AP:75.39, 57.50, 54.18
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:77.1073, 61.1952, 58.3693
bev  AP:77.9465, 60.9946, 57.3640
3d   AP:77.9369, 60.9863, 57.2889
aos  AP:74.18, 57.63, 54.75
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:78.5627, 61.6062, 58.1465
bev  AP:79.6291, 60.9236, 57.3264
3d   AP:79.6245, 60.9180, 57.2035
aos  AP:75.39, 57.50, 54.18

2023-12-29 14:26:25,604   INFO  Result is save to /mnt/data02/WK/MVP_kitti/OpenPCDet/output/kitti_models/pointpillar/32line/eval/eval_with_train/epoch_60/val
```



### 三类点云和添加Faker

```
2023-10-26 17:59:53,523   
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.3225, 86.1994, 79.3803
bev  AP:88.7729, 78.2045, 76.2129
3d   AP:77.8903, 66.3429, 59.1846
aos  AP:89.59, 84.21, 77.32
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.3318, 86.3857, 81.7340
bev  AP:91.1768, 80.0199, 75.3788
3d   AP:81.2520, 65.6532, 60.8203     **************
aos  AP:94.45, 84.37, 79.41
Car AP@0.70, 0.50, 0.50:
bbox AP:90.3225, 86.1994, 79.3803
bev  AP:90.5953, 87.9027, 80.5731
3d   AP:90.5684, 86.9598, 80.3226
aos  AP:89.59, 84.21, 77.32
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.3318, 86.3857, 81.7340
bev  AP:95.9287, 89.7801, 85.0830
3d   AP:95.7931, 89.2812, 84.6420
aos  AP:94.45, 84.37, 79.41
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:69.1967, 61.8042, 55.2929
bev  AP:60.8713, 52.7788, 49.1861
3d   AP:53.3270, 46.0816, 41.1226
aos  AP:44.42, 40.65, 36.62
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:69.5996, 61.8212, 56.0529
bev  AP:62.0923, 53.2319, 48.1975
3d   AP:52.7444, 44.5958, 39.7387   **************
aos  AP:41.00, 37.07, 33.50
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:69.1967, 61.8042, 55.2929
bev  AP:75.5379, 69.8019, 64.0599
3d   AP:75.4088, 69.6084, 63.8855
aos  AP:44.42, 40.65, 36.62
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:69.5996, 61.8212, 56.0529
bev  AP:78.0332, 70.5202, 64.4277
3d   AP:77.9040, 69.3524, 64.2290
aos  AP:41.00, 37.07, 33.50
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:71.9696, 56.4930, 52.4952
bev  AP:66.8836, 48.9260, 45.8750
3d   AP:63.1667, 44.7088, 40.7039
aos  AP:65.06, 47.70, 43.96
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:73.9996, 55.2912, 52.2947
bev  AP:67.5149, 47.1795, 43.6874
3d   AP:62.9091, 42.0558, 38.7334   *************
aos  AP:66.24, 45.78, 43.15
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:71.9696, 56.4930, 52.4952
bev  AP:73.6782, 55.1929, 51.3554
3d   AP:73.6782, 55.1929, 51.3554
aos  AP:65.06, 47.70, 43.96
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:73.9996, 55.2912, 52.2947
bev  AP:74.2897, 53.9464, 50.6169
3d   AP:74.2897, 53.9464, 50.6169
aos  AP:66.24, 45.78, 43.15
```

### 三类点云和添加Faker 加溢出优化

```
Car AP@0.70, 0.70, 0.70:
bbox AP:90.3230, 86.1801, 79.4029
bev  AP:87.9530, 77.6018, 75.6879
3d   AP:77.3605, 66.0662, 58.9443
aos  AP:89.53, 84.07, 77.20
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.3735, 86.3380, 81.7108
bev  AP:90.5345, 77.8773, 74.8265
3d   AP:80.7951, 65.4050, 60.5762      ************
aos  AP:94.43, 84.20, 79.23
Car AP@0.70, 0.50, 0.50:
bbox AP:90.3230, 86.1801, 79.4029
bev  AP:90.5067, 87.9899, 80.4906
3d   AP:90.4656, 86.8179, 80.2647
aos  AP:89.53, 84.07, 77.20
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.3735, 86.3380, 81.7108
bev  AP:95.8421, 89.7285, 85.0259
3d   AP:95.7328, 87.4987, 84.6022
aos  AP:94.43, 84.20, 79.23
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:68.2657, 61.1883, 55.1214
bev  AP:60.7940, 53.1434, 49.7575
3d   AP:55.2514, 48.5223, 42.7496
aos  AP:45.22, 40.75, 37.16
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:67.9899, 60.6385, 55.6965
bev  AP:61.3193, 52.8754, 47.9600
3d   AP:54.3167, 46.4744, 40.6277     ************
aos  AP:42.31, 37.63, 34.38
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:68.2657, 61.1883, 55.1214
bev  AP:75.4803, 70.2571, 63.9810
3d   AP:75.4634, 70.0924, 63.8508
aos  AP:45.22, 40.75, 37.16
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:67.9899, 60.6385, 55.6965
bev  AP:77.9275, 70.6327, 65.4639
3d   AP:77.9076, 70.5128, 64.3367
aos  AP:42.31, 37.63, 34.38
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:70.5164, 53.5801, 51.7776
bev  AP:66.5879, 49.2697, 44.1611
3d   AP:59.0032, 41.6207, 39.7577
aos  AP:60.34, 43.17, 42.05
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:71.9860, 53.5601, 50.8719
bev  AP:66.1128, 47.1145, 43.3779
3d   AP:60.0284, 39.3984, 37.1330     ************
aos  AP:60.01, 41.30, 39.44
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:70.5164, 53.5801, 51.7776
bev  AP:70.2893, 55.1194, 50.7839
3d   AP:70.2893, 54.8733, 50.6167
aos  AP:60.34, 43.17, 42.05
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:71.9860, 53.5601, 50.8719
bev  AP:71.9985, 53.2712, 49.5419
3d   AP:71.9985, 53.0885, 49.4097
aos  AP:60.01, 41.30, 39.44
```



## 其他融合

```
 python train.py --cfg_file cfgs/kitti_models/painting_pp.yaml --extra_tag painting_16line
```





### painting

用的16linestart0和virtul，上three_types时候才有边缘优化，所以没有优化边缘溢出

但只用了real点但还是不对，这里的virtul版本的gt还有超分的点云

```
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.1102, 78.7142, 76.5589
bev  AP:89.0942, 78.1703, 75.9999
3d   AP:76.8217, 62.8833, 57.2304
aos  AP:89.29, 77.26, 74.68
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:94.5145, 80.6809, 76.1262
bev  AP:91.6674, 79.9822, 75.4399
3d   AP:79.6592, 61.4721, 56.8858**************************
aos  AP:93.57, 79.05, 74.20
Car AP@0.70, 0.50, 0.50:
bbox AP:90.1102, 78.7142, 76.5589
bev  AP:90.6115, 86.7506, 80.1440
3d   AP:90.5527, 85.9770, 79.6199
aos  AP:89.29, 77.26, 74.68
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:94.5145, 80.6809, 76.1262
bev  AP:95.6380, 88.8449, 84.4423
3d   AP:95.4241, 86.4436, 81.8978
aos  AP:93.57, 79.05, 74.20
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:68.3420, 61.1409, 58.5713
bev  AP:60.1181, 52.3208, 48.8105
3d   AP:54.7709, 46.9837, 41.4593
aos  AP:37.78, 33.87, 32.71
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:68.3470, 60.4028, 56.9935
bev  AP:60.5629, 51.8436, 46.8867
3d   AP:53.7364, 45.0943, 39.3302 *******************
aos  AP:37.74, 33.49, 31.90
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:68.3420, 61.1409, 58.5713
bev  AP:74.6874, 69.2771, 63.4696
3d   AP:74.6376, 69.2122, 63.4394
aos  AP:37.78, 33.87, 32.71
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:68.3470, 60.4028, 56.9935
bev  AP:77.1386, 69.6918, 64.9899
3d   AP:77.0877, 69.6381, 64.9099
aos  AP:37.74, 33.49, 31.90
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:71.7341, 54.8473, 51.0418
bev  AP:62.2482, 46.3969, 43.8528
3d   AP:58.0597, 39.7968, 37.7387
aos  AP:66.00, 47.66, 44.70
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:72.4732, 53.2862, 49.6347
bev  AP:62.3639, 44.3292, 41.0914
3d   AP:57.1615, 37.8133, 34.8562 *********************
aos  AP:66.16, 45.55, 42.59
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:71.7341, 54.8473, 51.0418
bev  AP:71.0723, 53.9516, 50.5215
3d   AP:70.9510, 53.7523, 50.0132
aos  AP:66.00, 47.66, 44.70
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:72.4732, 53.2862, 49.6347
bev  AP:71.7567, 52.9576, 49.4648
3d   AP:71.6043, 52.6709, 49.0915
aos  AP:66.16, 45.55, 42.59
```



### kitti原始16 + virtual

```
Car AP@0.70, 0.70, 0.70:
bbox AP:90.3233, 82.6479, 78.6543
bev  AP:89.0964, 78.2936, 73.2440
3d   AP:77.3680, 61.6291, 58.1955
aos  AP:89.49, 80.80, 76.42
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:94.4849, 84.4728, 80.1118
bev  AP:91.0001, 79.3703, 74.5600
3d   AP:79.9252, 62.3676, 58.1970  ************
aos  AP:93.53, 82.46, 77.66
Car AP@0.70, 0.50, 0.50:
bbox AP:90.3233, 82.6479, 78.6543
bev  AP:90.6378, 87.9820, 83.6968
3d   AP:90.6277, 86.7719, 83.3604
aos  AP:89.49, 80.80, 76.42
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:94.4849, 84.4728, 80.1118
bev  AP:95.1172, 89.5656, 85.7651
3d   AP:95.0674, 88.2031, 84.8187
aos  AP:93.53, 82.46, 77.66
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:65.4171, 58.9011, 55.6024
bev  AP:58.3085, 51.5175, 48.0005
3d   AP:49.5224, 42.6133, 39.7695
aos  AP:38.60, 35.08, 32.85
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:65.7086, 58.5387, 55.0050
bev  AP:57.3959, 50.3036, 46.0609
3d   AP:48.1353, 40.8633, 36.5068 ************
aos  AP:38.36, 34.43, 32.13
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:65.4171, 58.9011, 55.6024
bev  AP:74.5190, 67.7597, 63.9301
3d   AP:74.4765, 67.5908, 63.7371
aos  AP:38.60, 35.08, 32.85
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:65.7086, 58.5387, 55.0050
bev  AP:76.1510, 68.2378, 64.0849
3d   AP:76.0644, 68.0461, 63.9115
aos  AP:38.36, 34.43, 32.13
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:70.7033, 54.6067, 51.1343
bev  AP:61.7419, 46.1079, 42.6753
3d   AP:58.0304, 40.7406, 38.1256
aos  AP:66.10, 48.00, 44.99
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:71.5418, 53.5893, 50.1642
bev  AP:61.9554, 44.6355, 41.4418
3d   AP:58.0857, 39.0053, 36.0244 ************
aos  AP:66.32, 46.26, 43.42
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:70.7033, 54.6067, 51.1343
bev  AP:70.3538, 53.6720, 50.7279
3d   AP:70.3525, 53.6715, 50.7077
aos  AP:66.10, 48.00, 44.99
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:71.5418, 53.5893, 50.1642
bev  AP:71.0936, 52.5400, 49.3052
3d   AP:71.0907, 52.5374, 49.2711
aos  AP:66.32, 46.26, 43.42
```

### frustum-convnet

```
(py36_fgz) vip416@vip416-System-Product-Name:/mnt/data02/wk/frustum-convnet$ python train/train_net_det.py --cfg cfgs/det_sample.yaml OUTPUT_DIR output/train
```



```
py36_fgz) vip416@vip416-System-Product-Name:/usr/local$ pip list
Package                    Version       Location
-------------------------- ------------- ---------------------------------------------------------
absl-py                    1.4.0
addict                     2.2.1
aiocontextvars             0.2.2
aiohttp                    3.7.4.post0
albumentations             0.4.0
anyconfig                  0.11.0
anyio                      3.5.0
apex                       0.1
appdirs                    1.4.4
apptools                   5.1.0
argcomplete                1.12.3
argon2-cffi                21.3.0
argon2-cffi-bindings       21.2.0
astor                      0.8.1
async-timeout              3.0.1
asynctest                  0.13.0
attrs                      19.3.0
autobahn                   21.2.1
autoflake                  1.7.7
Automat                    20.2.0
axial-positional-embedding 0.2.1
Babel                      2.9.1
backcall                   0.2.0
backports.weakref          1.0rc1
bce-python-sdk             0.8.60
bleach                     1.5.0
blessings                  1.7
cachetools                 4.2.4
catkin-pkg                 0.4.23
certifi                    2022.12.7
cffi                       1.14.0
cfgv                       3.3.0
channelnorm-cuda           0.0.0
chardet                    3.0.4
charset-normalizer         2.0.12
cityscapesScripts          2.2.0
click                      7.1.2
cloudpickle                1.6.0
cmake                      3.18.0
codecov                    2.1.11
colcon-argcomplete         0.3.3
colcon-bash                0.4.2
colcon-cd                  0.1.1
colcon-cmake               0.2.26
colcon-common-extensions   0.2.1
colcon-core                0.6.1
colcon-defaults            0.2.5
colcon-devtools            0.2.2
colcon-library-path        0.2.1
colcon-metadata            0.2.5
colcon-notification        0.2.13
colcon-output              0.2.12
colcon-package-information 0.3.3
colcon-package-selection   0.2.10
colcon-parallel-executor   0.2.4
colcon-pkg-config          0.1.0
colcon-powershell          0.3.6
colcon-python-setup-py     0.2.7
colcon-recursive-crawl     0.2.1
colcon-ros                 0.3.21
colcon-test-result         0.3.8
colcon-zsh                 0.4.0
colorama                   0.3.7
coloredlogs                15.0.1
configobj                  5.0.6
constantly                 15.1.0
contextvars                2.4
correlation-cuda           0.0.0
coverage                   5.5
cryptography               35.0.0
cupy                       7.6.0
cycler                     0.10.0
Cython                     0.29.21
dataclasses                0.8
DCNv2                      0.1           /mnt/data02/fgz/MonoFlex-main/model/backbone/DCNv2
decorator                  4.4.2
defusedxml                 0.6.0
deprecation                2.1.0
dgl                        0.5.2
distlib                    0.3.2
docutils                   0.17.1
easydict                   1.9
EasyProcess                0.3
editdistance               0.5.3
einops                     0.3.0
empy                       3.3.4
ensemble-boxes             1.0.6
entrypoints                0.4
enum34                     1.1.10
envisage                   6.0.1
et-xmlfile                 1.1.0
faiss-cpu                  1.7.1.post2
fastrlock                  0.5
filelock                   3.0.12
filterpy                   1.4.5
fire                       0.4.0
flake8                     3.9.2
Flask                      2.0.1
Flask-Babel                2.0.0
future                     0.18.2
gast                       0.3.3
gevent                     21.1.2
gevent-websocket           0.10.1
google-auth                2.16.2
google-auth-oauthlib       0.4.6
google-pasta               0.2.0
gpustat                    0.6.0
GPUtil                     1.4.0
graphsurgeon               0.4.1
greenlet                   1.1.0
grpcio                     1.48.2
gym                        0.21.0
gym-algorithmic            0.0.1
h5py                       2.10.0
html5lib                   0.9999999
humanfriendly              10.0
hyperlink                  21.0.0
identify                   2.2.6
idna                       3.4
idna-ssl                   1.1.0
igraph                     0.1.10
imageio                    2.9.0
imgaug                     0.2.8
immutables                 0.16
importlib-metadata         4.8.3
importlib-resources        5.1.4
incremental                21.3.0
iniconfig                  1.1.1
inplace-abn                1.1.0
iopath                     0.1.9
ipdb                       0.13.9
ipykernel                  5.5.6
ipython                    7.16.3
ipython-genutils           0.2.0
ipywidgets                 7.6.5
isort                      5.8.0
itsdangerous               2.0.1
jedi                       0.17.2
Jinja2                     3.0.1
joblib                     0.16.0
json5                      0.9.6
jsonpatch                  1.26
jsonpointer                2.0
jsonschema                 3.2.0
jupyter                    1.0.0
jupyter-client             7.1.2
jupyter-console            6.4.0
jupyter-core               4.9.2
jupyter-packaging          0.10.6
jupyter-server             1.13.1
jupyterlab                 3.2.9
jupyterlab-server          2.10.3
jupyterlab-widgets         1.0.2
Keras-Applications         1.0.8
Keras-Preprocessing        1.1.2
kiwisolver                 1.2.0
KNN-NanoFLANN              0.0.0
kwarray                    0.5.19
lanms-proper               1.0.1
lap                        0.4.0
llvmlite                   0.34.0
lmdb                       1.2.1
local-attention            1.4.3
logger                     1.0
loguru                     0.6.0
Markdown                   3.3.7
MarkupSafe                 2.0.1
maskrcnn-benchmark         0.1           /mnt/data02/fgz/DDMP-3D-main/pack/maskrcnn-benchmark-main
matplotlib                 3.3.0
mccabe                     0.6.1
mistune                    0.8.4
mkl-fft                    1.1.0
mkl-random                 1.1.1
mkl-service                2.3.0
mmcv                       1.0.3
mmdet                      2.11.0
mmpycocotools              12.0.3
mock                       4.0.3
monoflex                   0.0           /mnt/data02/fgz/MonoFlex-main
motmetrics                 1.2.5
multidict                  5.2.0
munch                      2.5.0
natsort                    8.1.0
nbclassic                  0.3.5
nbconvert                  5.6.1
nbformat                   5.0.7
nest-asyncio               1.5.6
networkx                   2.5
nodeenv                    1.6.0
notebook                   6.0.3
notify2                    0.3.1
numba                      0.51.0
numpy                      1.19.5
nvidia-ml-py3              7.352.0
oauthlib                   3.2.2
olefile                    0.46
open3d                     0.13.0
open3d-python              0.3.0.0
opencv-contrib-python      4.2.0.32
opencv-python              4.5.2.52
opencv-python-headless     4.5.4.60
openpyxl                   3.0.10
opt-einsum                 3.3.0
ordered-set                4.0.2
packaging                  20.9
paddle-bfloat              0.1.7
paddleclas                 2.5.0
paddledet                  2.5.0
paddleocr                  2.0.6
paddlepaddle               2.0.0
paddlepaddle-gpu           2.3.2.post101
paddleslim                 2.3.4
pandas                     1.1.5
pandocfilters              1.4.2
parso                      0.7.1
permuto-cpp                0.0.0
pexpect                    4.8.0
pick                       1.0.0
pickleshare                0.7.5
Pillow                     8.4.0
pip                        20.1.1
pluggy                     0.13.1
plyfile                    0.7.2
pointnet2-ops              3.0.0
pointops                   0.0.0
Polygon3                   3.0.9.1
portalocker                2.3.2
pre-commit                 2.13.0
prettytable                2.5.0
product-key-memory         0.1.10
prometheus-client          0.8.0
prompt-toolkit             3.0.32
protobuf                   3.19.6
psutil                     5.8.0
ptyprocess                 0.7.0
py                         1.10.0
pyasn1                     0.4.8
pyasn1-modules             0.2.8
pybind11                   2.5.0
pyclipper                  1.2.1
pycocotools                2.0
pycodestyle                2.7.0
pycparser                  2.20
pycryptodome               3.10.1
pydensecrf                 1.0rc3
pyface                     7.3.0
pyflakes                   2.3.1
pyglet                     1.5.21
Pygments                   2.13.0
pylint                     3.0.0a5
pynvrtc                    9.2
pyparsing                  2.4.7
pyquaternion               0.9.9
pyrsistent                 0.16.0
PySnooper                  0.4.1
pytest                     6.2.4
pytest-cov                 2.12.0
pytest-repeat              0.9.1
pytest-rerunfailures       10.0
pytest-runner              5.3.1
python-dateutil            2.8.2
python-igraph              0.8.2
python-Levenshtein         0.12.2
pytz                       2022.7.1
PyVirtualDisplay           1.3.2
PyWavelets                 1.1.1
PyYAML                     5.1.2
pyzmq                      24.0.1
qtconsole                  5.0.3
QtPy                       1.9.0
qudida                     0.0.4
rapidfuzz                  1.4.1
reformer-pytorch           1.4.3
requests                   2.27.1
requests-oauthlib          1.3.1
resample2d-cuda            0.0.0
rsa                        4.9
scikit-image               0.17.2
scikit-learn               0.22.2
scipy                      1.4.1
seaborn                    0.11.2
selenium                   3.141.0
Send2Trash                 1.5.0
setuptools                 59.6.0
Shapely                    1.7.0
shellcheck-py              0.7.2.1
six                        1.16.0
sklearn                    0.0
sniffio                    1.2.0
sortedcontainers           2.4.0
spconv                     1.0
tensorboard                1.15.0
tensorboard-data-server    0.6.1
tensorboard-plugin-wit     1.8.1
tensorboardX               2.1
tensorflow                 1.2.0
tensorflow-estimator       1.13.0
tensorflow-gpu             1.2.0
tensorflow-tensorboard     0.4.0
tensorrt                   6.0.1.5
termcolor                  1.1.0
terminado                  0.8.3
terminaltables             3.1.0
test                       0.0.1
testpath                   0.4.4
texttable                  1.6.3
tflib                      0.1.0
threadpoolctl              2.1.0
tifffile                   2020.9.3
timm                       0.3.3
toml                       0.10.2
tomlkit                    0.10.0
torch                      1.10.2
torch-tb-profiler          0.4.1
torchaudio                 0.7.2
torchfile                  0.1.0
torchnet                   0.0.5.1
TorchSnooper               0.8
torchvision                0.4.1
tornado                    6.1
tqdm                       4.48.0
traitlets                  4.3.3
traits                     6.3.1
traitsui                   7.2.1
transforms3d               0.3.1
Twisted                    21.7.0
txaio                      21.2.1
typeguard                  2.12.0
typing                     3.10.0.0
typing-extensions          4.1.1
ubelt                      0.9.5
ujson                      4.3.0
urllib3                    1.26.15
videoanalyst               1.0.0         /mnt/data02/LYF/video_analyst-master
virtualenv                 20.4.7
visdom                     0.1.8.9
visualdl                   2.2.0
vtk                        9.0.3
wcwidth                    0.2.5
websocket-client           0.57.0
Werkzeug                   2.0.3
wget                       3.2
wheel                      0.37.1
widgetsnbextension         3.5.1
wrapt                      1.12.1
wslink                     1.1.0
xdoctest                   0.15.4
xmltodict                  0.13.0
yacs                       0.1.8
yapf                       0.30.0
yarl                       1.7.0
zipp                       3.6.0
zope.event                 4.5.0
zope.interface             5.4.0
```

![image-20240706184922399](/home/wangkai/codenotes_ubuntu/方向/img/image-20240706184922399.png)

> 说明只支持这个car_only和people_only

### 3D-CVF

### ![image-20240706235017430](/home/wangkai/codenotes_ubuntu/方向/img/image-20240706235017430.png)

417

```
conda env list
 1950  conda activate wkmmdet
 1951  pip list
 1952  nvcc -V
 1953  pip install install scikit-image scipy numba pillow matplotlib
 1954  pip install install scikit-image scipy numba pillow matplotlib -i https://pypi.tuna.tsinghua.edu.cn/simple 
 1955  pip install fire tensorboardX pr
 1956  pip install fire tensorboardX protobuf opencv-python -i https://pypi.tuna.tsinghua.edu.cn/simple 
 1957  pip install numba scikit-image scipy pillow -i https://pypi.tuna.tsinghua.edu.cn/simple 
 1958  cd ..
 1959  git clone https://github.com/rasd3/3D-CVF.git
 1960  sudo git clone https://github.com/rasd3/3D-CVF.git
 1961  cd ..
 1962  sudo git clone https://github.com/rasd3/3D-CVF.git
 1963  cd second.pytorch/
 1964  cd ..
 1965  cd 3D-CVF/second/
 1966  sh train_bash_1st.sh
```



## 新的kitti的

https://github.com/hailanyi/VirConv

![image-20240706214514153](/home/wangkai/codenotes_ubuntu/方向/img/image-20240706214514153.png)

https://github.com/LittlePey/SFD?tab=readme-ov-file

![image-20240706214527110](/home/wangkai/codenotes_ubuntu/方向/img/image-20240706214527110.png)

# 16线非融合

### SECOND

```
2024-06-27 18:37:43,420   INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.1896, 78.9386, 76.7269
bev  AP:88.7003, 77.6596, 72.8019
3d   AP:80.5578, 63.6430, 58.9225
aos  AP:89.91, 78.02, 75.43
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:93.8194, 80.7909, 77.0693
bev  AP:90.5945, 78.5040, 74.2462
3d   AP:82.4146, 64.0057, 59.5208*************
aos  AP:93.50, 79.76, 75.73
Car AP@0.70, 0.50, 0.50:
bbox AP:90.1896, 78.9386, 76.7269
bev  AP:90.5336, 85.7738, 82.7363
3d   AP:90.4969, 82.7484, 79.4667
aos  AP:89.91, 78.02, 75.43
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:93.8194, 80.7909, 77.0693
bev  AP:94.7894, 87.3925, 84.6586
3d   AP:94.7032, 85.3866, 82.3732
aos  AP:93.50, 79.76, 75.73
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:58.3421, 54.1956, 50.8477
bev  AP:49.4499, 44.4073, 40.3207
3d   AP:42.3124, 38.2767, 34.8017
aos  AP:49.17, 44.92, 41.60
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:57.6915, 53.3715, 49.4992
bev  AP:47.7673, 42.6683, 38.1723
3d   AP:40.4639, 35.7467, 31.1403***********
aos  AP:47.09, 42.61, 38.79
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:58.3421, 54.1956, 50.8477
bev  AP:66.6003, 62.7634, 58.2269
3d   AP:66.3135, 62.4709, 57.8754
aos  AP:49.17, 44.92, 41.60
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:57.6915, 53.3715, 49.4992
bev  AP:66.5049, 62.6300, 57.8416
3d   AP:66.2616, 62.2743, 57.4746
aos  AP:47.09, 42.61, 38.79
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:66.2194, 45.4027, 42.9127
bev  AP:60.9665, 39.7361, 37.4020
3d   AP:56.3498, 36.2731, 34.5200
aos  AP:64.93, 44.31, 41.72
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:66.4081, 43.5857, 41.3850
bev  AP:60.7902, 37.5118, 35.5425
3d   AP:55.6700, 33.8290, 31.9189************
aos  AP:65.04, 42.33, 40.04
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:66.2194, 45.4027, 42.9127
bev  AP:67.3200, 46.1347, 44.0135
3d   AP:67.3200, 46.1347, 44.0135
aos  AP:64.93, 44.31, 41.72
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:66.4081, 43.5857, 41.3850
bev  AP:67.5027, 44.2653, 42.0408
3d   AP:67.5027, 44.2653, 42.0408
aos  AP:65.04, 42.33, 40.04
```

### SECOND+Painting

 virtual_file = self.root_split_path / 'virtual' / ('%s.npy' % idx)

还是得从no_cyclist加载不然cyclist类太低了

```
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.4280, 82.4933, 78.8237
bev  AP:88.8024, 77.9524, 73.1625
3d   AP:81.1591, 66.4526, 59.3871
aos  AP:90.02, 81.25, 77.31
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:94.1070, 84.1022, 80.1870
bev  AP:89.8840, 78.8232, 74.5303
3d   AP:82.8396, 65.2399, 60.4473************
aos  AP:93.64, 82.77, 78.55
Car AP@0.70, 0.50, 0.50:
bbox AP:90.4280, 82.4933, 78.8237
bev  AP:90.6468, 87.4302, 83.4713
3d   AP:90.6369, 85.8427, 83.1261
aos  AP:90.02, 81.25, 77.31
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:94.1070, 84.1022, 80.1870
bev  AP:95.0669, 88.3787, 85.5276
3d   AP:95.0153, 87.6958, 84.5287
aos  AP:93.64, 82.77, 78.55
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:65.3648, 61.1047, 56.7908
bev  AP:50.3785, 45.5129, 41.5720
3d   AP:43.2459, 38.2442, 35.5288
aos  AP:55.77, 50.51, 46.30
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:66.4270, 60.9459, 57.0281
bev  AP:48.6915, 43.7059, 39.1780
3d   AP:41.3603, 35.7846, 31.9097************
aos  AP:55.82, 49.79, 46.11
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:65.3648, 61.1047, 56.7908
bev  AP:73.8808, 69.0315, 64.6878
3d   AP:73.6307, 68.4784, 64.2738
aos  AP:55.77, 50.51, 46.30
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:66.4270, 60.9459, 57.0281
bev  AP:74.7599, 69.8647, 65.6302
3d   AP:74.4847, 68.8983, 65.0754
aos  AP:55.82, 49.79, 46.11
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:57.8748, 40.1014, 38.5942
bev  AP:55.0339, 37.1902, 35.9329
3d   AP:51.6698, 34.9447, 33.0990
aos  AP:56.19, 38.05, 36.77
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:57.0650, 38.2636, 35.9571
bev  AP:53.8560, 34.6818, 32.8147
3d   AP:50.0403, 31.8243, 30.1176************
aos  AP:55.24, 36.00, 33.92
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:57.8748, 40.1014, 38.5942
bev  AP:58.4707, 39.9814, 38.6992
3d   AP:58.3542, 39.8782, 38.6072
aos  AP:56.19, 38.05, 36.77
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:57.0650, 38.2636, 35.9571
bev  AP:58.1053, 38.1209, 36.4133
3d   AP:57.9452, 38.0344, 36.3401
aos  AP:55.24, 36.00, 33.92
```



### SECOND+Virtual

用的16linestart0和virtul，上three_types时候才有边缘优化，所以没有优化边缘溢出

virtual的数据文件确实是这个确实是加了超分辨的点云的结果，自行车也没有过滤

但是virtul的gt_database有可能是three_types去了super生成的，影响不大吧

```
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.5541, 83.3381, 79.2266
bev  AP:89.6021, 78.5078, 73.7001
3d   AP:81.7162, 67.0712, 59.7839
aos  AP:90.20, 82.11, 77.70
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.0318, 85.4624, 80.7472
bev  AP:91.8262, 79.6392, 74.8239
3d   AP:84.2551, 66.0082, 60.9420************
aos  AP:94.60, 84.11, 79.06
Car AP@0.70, 0.50, 0.50:
bbox AP:90.5541, 83.3381, 79.2266
bev  AP:90.6836, 87.8853, 83.9083
3d   AP:90.6768, 85.9252, 80.1360
aos  AP:90.20, 82.11, 77.70
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.0318, 85.4624, 80.7472
bev  AP:95.3354, 88.8535, 85.6571
3d   AP:95.2635, 88.0465, 83.5290
aos  AP:94.60, 84.11, 79.06
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:67.5078, 62.1259, 58.2201
bev  AP:53.1197, 46.2996, 43.3485
3d   AP:46.6142, 40.0351, 36.2298
aos  AP:55.53, 50.30, 46.91
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:68.5372, 61.8358, 58.0031
bev  AP:52.0700, 44.7624, 40.8215
3d   AP:44.0193, 37.0984, 32.5259************
aos  AP:55.25, 48.22, 44.89
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:67.5078, 62.1259, 58.2201
bev  AP:75.1545, 68.7669, 64.7505
3d   AP:74.9752, 68.6363, 64.6369
aos  AP:55.53, 50.30, 46.91
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:68.5372, 61.8358, 58.0031
bev  AP:75.6755, 69.1555, 64.9346
3d   AP:75.5834, 68.9514, 64.7841
aos  AP:55.25, 48.22, 44.89
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:72.6208, 53.0255, 50.4363
bev  AP:70.5147, 48.1713, 45.1308
3d   AP:62.1193, 43.1396, 39.7813
aos  AP:69.51, 49.23, 47.00
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:73.4152, 52.2516, 49.4052
bev  AP:70.2613, 46.4214, 43.0203
3d   AP:63.5214, 40.8695, 37.7228************
aos  AP:70.14, 48.26, 45.74
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:72.6208, 53.0255, 50.4363
bev  AP:73.6723, 53.0936, 49.9820
3d   AP:73.6723, 53.0936, 49.9820
aos  AP:69.51, 49.23, 47.00
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:73.4152, 52.2516, 49.4052
bev  AP:74.8199, 52.6654, 49.0161
3d   AP:74.8199, 52.6654, 49.0161
aos  AP:70.14, 48.26, 45.74
```

### SECOND+Virtual2

```
bbox AP:90.5769, 83.1067, 79.2081
bev  AP:89.1104, 77.8161, 73.2083
3d   AP:81.4563, 66.8291, 59.5385
aos  AP:90.18, 81.82, 77.60
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:94.9019, 85.3963, 80.6560
bev  AP:91.0934, 78.6613, 74.2576
3d   AP:83.7256, 65.6979, 60.6407************
aos  AP:94.44, 83.95, 78.90
Car AP@0.70, 0.50, 0.50:
bbox AP:90.5769, 83.1067, 79.2081
bev  AP:90.7024, 87.8964, 83.7761
3d   AP:90.7024, 86.4429, 80.1047
aos  AP:90.18, 81.82, 77.60
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:94.9019, 85.3963, 80.6560
bev  AP:95.2579, 88.8063, 85.6275
3d   AP:95.2214, 88.1447, 83.4863
aos  AP:94.44, 83.95, 78.90
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:66.5328, 62.1305, 59.0342
bev  AP:54.6940, 48.2812, 45.3405
3d   AP:48.7148, 42.2517, 37.9576
aos  AP:51.11, 46.86, 43.74
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:67.7520, 62.3034, 58.3593
bev  AP:53.4876, 46.6033, 42.7290
3d   AP:46.0412, 39.2088, 35.2423************
aos  AP:51.40, 46.43, 42.84
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:66.5328, 62.1305, 59.0342
bev  AP:75.5354, 69.6297, 65.4270
3d   AP:75.4102, 69.1336, 65.0799
aos  AP:51.11, 46.86, 43.74
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:67.7520, 62.3034, 58.3593
bev  AP:76.6606, 70.4768, 66.3561
3d   AP:76.5135, 70.0579, 65.8561
aos  AP:51.40, 46.43, 42.84
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:73.8129, 54.5558, 52.0209
bev  AP:68.3006, 47.0264, 44.6734
3d   AP:63.6649, 43.1718, 40.5294
aos  AP:71.06, 51.15, 48.82
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:75.6866, 54.3779, 51.0408
bev  AP:68.4796, 45.2789, 42.7732
3d   AP:63.6801, 41.0611, 38.4230************
aos  AP:72.69, 50.59, 47.57
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:73.8129, 54.5558, 52.0209
bev  AP:74.8166, 54.1746, 51.6931
3d   AP:74.7233, 53.7881, 51.2463
aos  AP:71.06, 51.15, 48.82
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:75.6866, 54.3779, 51.0408
bev  AP:75.5192, 53.9002, 50.7360
3d   AP:75.3092, 53.6527, 50.5022
aos  AP:72.69, 50.59, 47.57
```



用的three_types但是不用super点云

```
2024-07-01 21:30:35,006   INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.4784, 83.6247, 79.7308
bev  AP:89.2162, 78.4524, 73.6455
3d   AP:82.0718, 67.7444, 62.7734
3d   AP:82.0718, 67.7444, 62.7734
aos  AP:90.10, 82.35, 78.15
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.0446, 86.1420, 82.8918
bev  AP:91.4115, 79.5509, 74.8049
3d   AP:84.7015, 67.8806, 62.8393************
aos  AP:94.59, 84.72, 81.03
Car AP@0.70, 0.50, 0.50:
bbox AP:90.4784, 83.6247, 79.7308
bev  AP:90.6129, 88.3622, 84.3352
3d   AP:90.5923, 87.4447, 84.0123
aos  AP:90.10, 82.35, 78.15
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.0446, 86.1420, 82.8918
bev  AP:95.3444, 90.0975, 86.2162
3d   AP:95.2675, 88.7040, 85.3392
aos  AP:94.59, 84.72, 81.03
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:66.9607, 62.2551, 57.4737
bev  AP:54.5236, 49.8668, 45.9806
3d   AP:47.7485, 43.1434, 38.4542
aos  AP:54.41, 50.00, 45.98
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:67.6909, 62.2970, 57.3611
bev  AP:54.6947, 49.3120, 44.3749
3d   AP:47.0685, 41.3771, 36.9137************
aos  AP:53.27, 48.15, 43.90
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:66.9607, 62.2551, 57.4737
bev  AP:75.3647, 70.0922, 64.8292
3d   AP:75.2475, 69.8474, 64.5516
aos  AP:54.41, 50.00, 45.98
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:67.6909, 62.2970, 57.3611
bev  AP:75.9596, 70.6499, 65.1843
3d   AP:75.8519, 70.3241, 64.8999
aos  AP:53.27, 48.15, 43.90
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:63.2552, 46.7624, 44.7446
bev  AP:59.6209, 42.5484, 39.9136
3d   AP:55.0709, 38.9853, 36.8462
aos  AP:59.47, 43.22, 41.65
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:62.8919, 45.6064, 43.0279
bev  AP:58.4289, 40.2652, 37.6276
3d   AP:54.5732, 36.5414, 34.1390************
aos  AP:58.70, 41.71, 39.43
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:63.2552, 46.7624, 44.7446
bev  AP:63.6231, 47.9095, 44.5301
3d   AP:63.6085, 46.4613, 44.4492
aos  AP:59.47, 43.22, 41.65
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:62.8919, 45.6064, 43.0279
bev  AP:64.2657, 46.0454, 42.9015
3d   AP:64.2399, 45.5459, 42.8119
aos  AP:58.70, 41.71, 39.43
```

### SECOND+MVP

为什么只有cyclist不对？

用源代码重新生成的

没有任何优化和也没有合并create_cyclist

```
 Car AP@0.70, 0.70, 0.70:
bbox AP:90.4722, 82.8813, 78.5683
bev  AP:89.3658, 77.3166, 72.9097
3d   AP:81.1139, 65.1402, 58.7253
aos  AP:89.87, 81.26, 76.68
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:94.6366, 84.5617, 79.8955
bev  AP:91.1948, 77.2789, 73.4178
3d   AP:83.3197, 64.5392, 59.2725************
aos  AP:93.93, 82.81, 77.84
Car AP@0.70, 0.50, 0.50:
bbox AP:90.4722, 82.8813, 78.5683
bev  AP:90.6571, 87.3182, 83.5259
3d   AP:90.6504, 84.7830, 79.7809
aos  AP:89.87, 81.26, 76.68
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:94.6366, 84.5617, 79.8955
bev  AP:95.1165, 88.5436, 85.0307
3d   AP:95.0737, 87.5066, 82.9484
aos  AP:93.93, 82.81, 77.84
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:65.5872, 61.1659, 57.6523
bev  AP:53.3619, 48.6427, 44.0727
3d   AP:46.9616, 41.3245, 37.6953
aos  AP:51.98, 48.29, 45.08
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:65.6860, 61.3979, 57.5704
bev  AP:52.9391, 46.5589, 41.7946
3d   AP:46.0852, 39.7496, 35.1474************
aos  AP:50.40, 46.26, 42.77
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:65.5872, 61.1659, 57.6523
bev  AP:73.9877, 69.3664, 65.3633
3d   AP:73.7915, 69.2285, 65.1048
aos  AP:51.98, 48.29, 45.08
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:65.6860, 61.3979, 57.5704
bev  AP:74.5079, 69.8582, 65.6213
3d   AP:74.3778, 69.6498, 65.3882
aos  AP:50.40, 46.26, 42.77
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:74.4793, 54.9981, 52.6192
bev  AP:71.1098, 48.5436, 46.3249
3d   AP:65.6774, 44.3536, 40.6446
aos  AP:69.97, 51.23, 48.88
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:76.6086, 54.2699, 51.0759
bev  AP:71.9834, 47.7592, 44.7814
3d   AP:66.0452, 42.2434, 39.1287************
aos  AP:71.71, 50.06, 47.08
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:74.4793, 54.9981, 52.6192
bev  AP:76.7640, 54.3165, 52.1745
3d   AP:74.4531, 54.2504, 51.4011
aos  AP:69.97, 51.23, 48.88
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:76.6086, 54.2699, 51.0759
bev  AP:77.4852, 53.7431, 50.4008
3d   AP:76.6132, 53.5534, 50.0302
aos  AP:71.71, 50.06, 47.08
```

### SECOND+MVP2

用的kitti_dataset_super_no_cyclist ，那不用应该只加了前背景判别么，怎么差这么多

```
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.4802, 83.5147, 79.5199
bev  AP:89.0365, 78.4740, 73.6434
3d   AP:81.6244, 67.4781, 62.6219
aos  AP:90.13, 82.29, 78.03
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.0874, 85.8806, 82.1704
bev  AP:91.2558, 79.5999, 74.8020
3d   AP:84.1529, 67.4063, 62.1974************
aos  AP:94.66, 84.54, 80.45
Car AP@0.70, 0.50, 0.50:
bbox AP:90.4802, 83.5147, 79.5199
bev  AP:90.6233, 88.1016, 84.1290
3d   AP:90.5988, 87.1673, 80.3527
aos  AP:90.13, 82.29, 78.03
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.0874, 85.8806, 82.1704
bev  AP:95.3968, 89.0879, 85.9418
3d   AP:95.3009, 88.6414, 83.8720
aos  AP:94.66, 84.54, 80.45
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:67.8480, 62.7473, 58.1905
bev  AP:53.6645, 48.6062, 43.5862
3d   AP:46.3862, 40.4926, 36.6056
aos  AP:56.50, 51.05, 46.58
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:68.7128, 62.9165, 57.6350
bev  AP:53.1216, 46.6636, 41.4809
3d   AP:44.5766, 37.9896, 33.4002************
aos  AP:55.67, 49.38, 44.33
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:67.8480, 62.7473, 58.1905
bev  AP:75.4401, 69.9595, 64.5823
3d   AP:75.1195, 69.5278, 64.0387
aos  AP:56.50, 51.05, 46.58
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:68.7128, 62.9165, 57.6350
bev  AP:76.7605, 70.3764, 65.0775
3d   AP:76.4266, 69.8732, 64.4623
aos  AP:55.67, 49.38, 44.33
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:70.7340, 52.6086, 49.3789
bev  AP:62.6361, 45.1971, 42.3843
3d   AP:57.2906, 39.2107, 37.6512
aos  AP:66.26, 48.87, 45.78
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:71.6320, 51.2386, 47.7855
bev  AP:63.5253, 43.5585, 40.6731
3d   AP:55.4362, 36.7814, 34.1855************
aos  AP:66.77, 46.99, 43.86
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:70.7340, 52.6086, 49.3789
bev  AP:71.6332, 52.5793, 49.8176
3d   AP:71.6263, 52.5358, 49.4139
aos  AP:66.26, 48.87, 45.78
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:71.6320, 51.2386, 47.7855
bev  AP:72.6344, 51.5874, 48.3888
3d   AP:72.6278, 51.4851, 47.7117
aos  AP:66.77, 46.99, 43.86
```

### SECOND+MVP3

```
Car AP@0.70, 0.70, 0.70:
bbox AP:90.5841, 83.3040, 79.3267
bev  AP:89.0867, 78.3179, 73.2507
3d   AP:81.5715, 67.5499, 62.2744
aos  AP:90.21, 82.13, 77.84
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.0894, 85.7049, 81.7610
bev  AP:91.0603, 79.3619, 74.4642
3d   AP:84.5000, 67.4918, 62.0171*******************************
aos  AP:94.63, 84.39, 80.06
Car AP@0.70, 0.50, 0.50:
bbox AP:90.5841, 83.3040, 79.3267
bev  AP:90.6797, 88.3741, 83.9313
3d   AP:90.6725, 87.4775, 83.6026
aos  AP:90.21, 82.13, 77.84
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.0894, 85.7049, 81.7610
bev  AP:95.3114, 89.9334, 85.8761
3d   AP:95.2759, 88.7047, 85.0052
aos  AP:94.63, 84.39, 80.06
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:65.7983, 60.3593, 57.3477
bev  AP:53.8837, 48.5634, 45.3488
3d   AP:47.3303, 42.8719, 38.4418
aos  AP:53.21, 48.21, 45.46
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:65.6840, 60.3695, 57.0883
bev  AP:53.3287, 47.1567, 43.2070
3d   AP:45.8862, 40.2123, 35.9508*******************************
aos  AP:51.45, 46.32, 43.21
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:65.7983, 60.3593, 57.3477
bev  AP:74.1621, 68.6922, 64.8853
3d   AP:73.8926, 67.0784, 64.4119
aos  AP:53.21, 48.21, 45.46
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:65.6840, 60.3695, 57.0883
bev  AP:74.6500, 69.0250, 65.0259
3d   AP:74.3574, 68.1307, 64.5419
aos  AP:51.45, 46.32, 43.21
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:72.9847, 52.7220, 49.6688
bev  AP:68.5136, 47.6005, 44.9328
3d   AP:64.5500, 42.7115, 39.6019
aos  AP:68.82, 49.29, 46.41
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:74.3228, 52.1269, 48.8618
bev  AP:68.6483, 46.5041, 43.3800
3d   AP:63.8759, 40.4449, 37.2712*******************************
aos  AP:69.80, 48.34, 45.18
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:72.9847, 52.7220, 49.6688
bev  AP:72.6825, 52.0256, 49.2210
3d   AP:72.6825, 52.0256, 49.2210
aos  AP:68.82, 49.29, 46.41
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:74.3228, 52.1269, 48.8618
bev  AP:74.1348, 51.6670, 48.1679
3d   AP:74.1348, 51.6670, 48.1679
aos  AP:69.80, 48.34, 45.18
```



### SECOND+three_types+边缘溢出优化

```
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.5528, 83.3182, 79.6502
bev  AP:89.1175, 78.4315, 73.4919
3d   AP:82.1253, 67.5148, 62.4835
aos  AP:90.26, 82.20, 78.23
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.2691, 85.9708, 82.5245
bev  AP:91.4175, 79.6215, 74.8346
3d   AP:84.5730, 67.6858, 62.5088************
aos  AP:94.92, 84.71, 80.87
Car AP@0.70, 0.50, 0.50:
bbox AP:90.5528, 83.3182, 79.6502
bev  AP:90.6812, 88.3127, 83.9327
3d   AP:90.6228, 87.2233, 83.6055
aos  AP:90.26, 82.20, 78.23
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.2691, 85.9708, 82.5245
bev  AP:95.5757, 89.0630, 85.9799
3d   AP:95.4611, 88.5713, 85.0151
aos  AP:94.92, 84.71, 80.87
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:66.6624, 62.2497, 57.6157
bev  AP:53.2603, 47.2860, 43.3213
3d   AP:46.7679, 41.5197, 37.3504
aos  AP:56.84, 51.95, 47.62
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:67.1879, 62.1190, 57.5614
bev  AP:53.4346, 46.7992, 41.9924
3d   AP:46.0747, 40.4728, 35.3980************
aos  AP:55.85, 50.50, 46.04
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:66.6624, 62.2497, 57.6157
bev  AP:76.0072, 70.8814, 65.6522
3d   AP:75.9183, 70.6675, 65.3809
aos  AP:56.84, 51.95, 47.62
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:67.1879, 62.1190, 57.5614
bev  AP:76.9772, 71.2503, 66.0490
3d   AP:76.8852, 70.9792, 65.7014
aos  AP:55.85, 50.50, 46.04
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:64.8304, 45.6422, 43.2909
bev  AP:59.5916, 41.1382, 38.4571
3d   AP:57.4177, 37.7865, 35.7212
aos  AP:62.35, 42.63, 40.50
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:65.3204, 43.7432, 41.6490
bev  AP:59.7339, 38.8520, 36.4592
3d   AP:56.6746, 35.3989, 33.0544************
aos  AP:62.63, 40.60, 38.63
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:64.8304, 45.6422, 43.2909
bev  AP:65.0305, 45.2556, 42.7800
3d   AP:64.9684, 45.1613, 42.7455
aos  AP:62.35, 42.63, 40.50
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:65.3204, 43.7432, 41.6490
bev  AP:65.3140, 43.6776, 41.1303
3d   AP:65.2133, 43.6270, 41.0619
aos  AP:62.63, 40.60, 38.63

```

### SECOND+three_types+边缘溢出优化2

```
INFO  Car AP@0.70, 0.70, 0.70:
bbox AP:90.6386, 83.3801, 79.7405
bev  AP:89.0186, 78.2045, 73.0829
3d   AP:81.4079, 67.4745, 62.1841
aos  AP:90.43, 82.16, 78.15
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.1690, 86.1051, 82.4625
bev  AP:91.0244, 79.1431, 74.2723
3d   AP:84.1922, 67.5265, 62.3141************
aos  AP:94.90, 84.74, 80.64
Car AP@0.70, 0.50, 0.50:
bbox AP:90.6386, 83.3801, 79.7405
bev  AP:90.6861, 88.1730, 83.8586
3d   AP:90.6755, 87.2963, 83.6181
aos  AP:90.43, 82.16, 78.15
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.1690, 86.1051, 82.4625
bev  AP:95.3172, 89.0030, 85.8720
3d   AP:95.2699, 88.6369, 84.9655
aos  AP:94.90, 84.74, 80.64
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:66.6800, 61.4361, 57.6671
bev  AP:53.9086, 48.9399, 44.2664
3d   AP:46.8096, 42.1080, 37.8985
aos  AP:54.83, 50.32, 46.62
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:67.4095, 61.4939, 57.5149
bev  AP:53.7520, 47.9094, 42.6030
3d   AP:46.4674, 40.8049, 35.8311************
aos  AP:53.84, 48.72, 44.68
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:66.6800, 61.4361, 57.6671
bev  AP:76.0757, 70.7477, 65.9486
3d   AP:75.9721, 70.6801, 65.7619
aos  AP:54.83, 50.32, 46.62
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:67.4095, 61.4939, 57.5149
bev  AP:77.3226, 71.2994, 66.3999
3d   AP:77.2109, 71.1832, 66.2059
aos  AP:53.84, 48.72, 44.68
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:66.5129, 48.5932, 45.9851
bev  AP:64.2728, 44.6023, 42.2974
3d   AP:59.6172, 40.5602, 38.0817
aos  AP:63.95, 45.26, 42.81
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:66.8389, 46.6726, 44.4497
bev  AP:64.6245, 43.1753, 40.3903
3d   AP:59.8786, 38.2867, 35.9889************
aos  AP:64.03, 43.20, 41.19
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:66.5129, 48.5932, 45.9851
bev  AP:66.8206, 49.0514, 46.7414
3d   AP:66.8206, 49.0514, 46.6554
aos  AP:63.95, 45.26, 42.81
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:66.8389, 46.6726, 44.4497
bev  AP:67.8949, 47.6774, 45.1785
3d   AP:67.8947, 47.6642, 45.1534
aos  AP:64.03, 43.20, 41.19
```

### SECOND+three_types+不合并cyclist

```
Car AP@0.70, 0.70, 0.70:
bbox AP:90.4440, 83.4293, 79.7345
bev  AP:88.8706, 78.2726, 73.4375
3d   AP:81.7549, 67.4068, 62.5451
aos  AP:90.10, 82.30, 78.27
Car AP_R40@0.70, 0.70, 0.70:
bbox AP:95.1082, 86.0791, 82.5911
bev  AP:90.9953, 79.4384, 74.7419
3d   AP:84.2321, 67.6227, 62.6326************
aos  AP:94.69, 84.82, 80.90
Car AP@0.70, 0.50, 0.50:
bbox AP:90.4440, 83.4293, 79.7345
bev  AP:90.5797, 88.4297, 84.0176
3d   AP:90.5560, 87.4764, 83.8411
aos  AP:90.10, 82.30, 78.27
Car AP_R40@0.70, 0.50, 0.50:
bbox AP:95.1082, 86.0791, 82.5911
bev  AP:95.3507, 89.1156, 85.9898
3d   AP:95.2955, 88.6859, 85.1846
aos  AP:94.69, 84.82, 80.90
Pedestrian AP@0.50, 0.50, 0.50:
bbox AP:67.8194, 61.8576, 57.9259
bev  AP:54.8082, 49.0237, 44.3047
3d   AP:49.4922, 42.5319, 38.2221
aos  AP:55.92, 49.86, 46.28
Pedestrian AP_R40@0.50, 0.50, 0.50:
bbox AP:68.5670, 62.1910, 57.6631
bev  AP:54.2432, 47.2682, 42.0833
3d   AP:47.1449, 40.0938, 35.0641************
aos  AP:54.63, 48.03, 43.86
Pedestrian AP@0.50, 0.25, 0.25:
bbox AP:67.8194, 61.8576, 57.9259
bev  AP:76.2515, 69.9718, 64.8908
3d   AP:76.0072, 69.6677, 64.4677
aos  AP:55.92, 49.86, 46.28
Pedestrian AP_R40@0.50, 0.25, 0.25:
bbox AP:68.5670, 62.1910, 57.6631
bev  AP:77.1467, 70.5569, 65.2140
3d   AP:76.8669, 70.0556, 64.7952
aos  AP:54.63, 48.03, 43.86
Cyclist AP@0.50, 0.50, 0.50:
bbox AP:70.8650, 51.7767, 48.7382
bev  AP:66.6283, 46.2261, 43.8402
3d   AP:63.3213, 43.8571, 41.0720
aos  AP:67.67, 48.14, 45.50
Cyclist AP_R40@0.50, 0.50, 0.50:
bbox AP:70.6453, 50.6467, 47.5893
bev  AP:67.1117, 44.6010, 41.4176
3d   AP:63.9980, 41.5283, 38.7969************
aos  AP:67.28, 46.87, 44.14
Cyclist AP@0.50, 0.25, 0.25:
bbox AP:70.8650, 51.7767, 48.7382
bev  AP:72.0555, 51.3871, 49.0019
3d   AP:72.0555, 51.3871, 48.7973
aos  AP:67.67, 48.14, 45.50
Cyclist AP_R40@0.50, 0.25, 0.25:
bbox AP:70.6453, 50.6467, 47.5893
bev  AP:72.5957, 50.9145, 47.4058
3d   AP:72.5957, 50.8846, 47.3479
aos  AP:67.28, 46.87, 44.14
```



# ONCE



