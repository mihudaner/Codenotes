# 师兄

## 一面（7-10 电话面 25min)

1. 自我介绍
2. 项目提问
   1. 网页音乐播放器里面的IO复用怎么设计的？
   2. 多线程同步

互斥锁，信号量，队列为空阻塞；<br />那队列满了怎么处理？<br />设置一个最大任务量，大于这个任务量请求不插入队列。



   3. ### 死锁怎么产生，怎么防止，怎么看程序是否产生死锁?

> 1. **互斥条件**：至少有一个资源是以非共享方式占用的，即某个资源在某个时刻只能被一个线程占用。
> 2. **请求与保持条件**：一个线程在持有至少一个资源的情况下，请求其他资源。
> 3. **不剥夺条件**：已经分配给线程的资源在未使用完之前不能被强制剥夺。
> 4. **循环等待条件**：存在一个线程集合 {T1, T2, ..., Tn}，其中 T1 等待 T2 持有的资源，T2 等待 T3 持有的资源，...，Tn 等待 T1 持有的资源
>
> 
>
> **避免循环等待**，**使用多个锁的顺序**：确保所有线程在相同的顺序中获取锁，避免发生请求与保持条件
>
> 
>
> 系统提供的工具（如 `top`、`htop` 等）监控线程的状态
>
> Valgrind 的 Helgrind 工具，它可以检测 C++ 程序中的数据竞争和死锁
>
> 日志记录，代码审查



3. 介绍下多态

   1. 那重写和重载的区别？

4. 智能指针

   1. auto_prt怎么能被替换？
   2. shared_ptr产生循环引用怎么解决？

5. ### 介绍下红黑树，应用

> 优先级进行调度
>
> std::map` 和 `std::set

3. 一个长字符串，超出内存，一个短字符串，判断产字符串包含多少个子字符串？

   >  KMP 算法

4. linux了解吗

   1. 一个文本里一行行存放数据，通过shell进行排序
   2. 怎么查看进程的内存使用率和磁盘使用率

   > top
   >
   > ps

反问：<br />该部门主要方向<br />还需要什么技术栈：可以提前了解下分布式的一些原理和实现方式。

# 我

指针报错怎么排查

智能指针

三次握手回收

一组数据如果要查指定数据用什么数据结构

### closed wait可以接受数据么

> **接收数据**：在 CLOSED_WAIT 状态下，连接仍然存在，因此服务器端**仍然可以接收已经发送的数据**（如果在收到 FIN 之前，对端还发送了一些数据，服务器仍然可以接收这些数据）。
>
> **发送数据**：服务器处于 **CLOSED_WAIT** 状态时，**不能再发送新的数据**。服务器可以处理已经接收到的数据，但是因为对端已经关闭了连接，所以即使服务器发送了数据，对端也不会再处理这些数据。

### 程序怎么修改select1024上限 （比较偏）

### 纯虚函数作用

> 定义接口，设计接口

stl容器了解哪些和底层原理

怎么解决循环引用

